<!DOCTYPE html>
<html>
<head>
    <title>Test File Fetch</title>
</head>
<body>
    <h1>Testing Static File Fetching</h1>
    <button onclick="testPDF()">Test PDF Fetch</button>
    <button onclick="testCSV()">Test CSV Fetch</button>
    <div id="results"></div>

    <script>
        async function testPDF() {
            const results = document.getElementById('results');
            try {
                const response = await fetch('/mock_reports/sample.pdf');
                const blob = await response.blob();
                results.innerHTML = `<p>PDF Test: Success! Type: ${blob.type}, Size: ${blob.size} bytes</p>`;
                
                // Create object URL and display
                const url = URL.createObjectURL(blob);
                results.innerHTML += `<iframe src="${url}" width="600" height="400"></iframe>`;
            } catch (err) {
                results.innerHTML = `<p style="color: red">PDF Test Failed: ${err.message}</p>`;
            }
        }

        async function testCSV() {
            const results = document.getElementById('results');
            try {
                const response = await fetch('/mock_reports/clinical_trials_pipeline.csv');
                const text = await response.text();
                const lines = text.split('\n').slice(0, 5).join('\n');
                results.innerHTML = `<p>CSV Test: Success!</p><pre>${lines}</pre>`;
            } catch (err) {
                results.innerHTML = `<p style="color: red">CSV Test Failed: ${err.message}</p>`;
            }
        }
    </script>
</body>
</html>
